<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>دی ان اس اختصاصی</title>
  <style>
    /* استفاده از box-sizing برای محاسبه درست اندازه‌ها */
    * {
      box-sizing: border-box;
    }

    body {
      background: #008080;
      font-family: "MS Sans Serif", Tahoma, sans-serif;
      margin: 0;
      padding: 0;
    }

    /* استایل دکمه‌ها به سبک ویندوز ۹۸ */
    button,
    input[type="button"],
    input[type="submit"] {
      font-family: "MS Sans Serif", Tahoma, sans-serif;
      font-size: 13px;
      background-color: #dcdcdc;
      border: 2px outset #fff;
      padding: 9px 18px;
      margin: 2px;
      cursor: pointer;
      border-radius: 0;
      box-shadow: none;
      text-shadow: none;
      appearance: none;
    }

    /* صفحه ورود */
    .login-container {
      width: 400px;
      margin: 50px auto;
      background: #c0c0c0;
      padding: 20px;
      border: 2px inset #fff;
      text-align: center;
    }

    .login-container input {
      width: 100%;
      padding: 5px;
      margin: 5px 0;
      border: 2px inset #fff;
      background: #fff;
    }

    /* المان لودینگ ورود */
    #login-loading {
      display: none;
      justify-content: center;
      align-items: center;
      padding: 10px;
      background: #f0f0f0;
      border: 2px inset #fff;
      margin-top: 10px;
    }

    .clear {
      clear: both;
    }

    /* بخش اصلی (صفحه اصلی) */
    #main-page {
      max-width: 900px;
      margin: 20px auto;
      padding: 10px;
    }

    /* استایل بخش‌های رابط کاربری (section) */
    .section {
      margin-bottom: 20px;
      padding: 10px;
      background: #dcdcdc;
      border: 2px outset #fff;
      text-align: right;
    }

    .section h2 {
      margin-top: 0;
    }

    .section select,
    .section input,
    .section textarea {
      display: block;
      width: 100%;
      padding: 5px;
      margin: 5px 0;
      border: 2px inset #fff;
      background: #fff;
    }

    .section textarea {
      resize: none;
    }

    /* دکمه‌های داخل بخش - حذف float و تنظیم فاصله */
    .section button {
      display: inline-block;
      margin: 5px;
    }

    .loading {
      display: none;
      justify-content: center;
      align-items: center;
      padding: 5px;
      background: #f0f0f0;
      border: 2px inset #fff;
      margin-bottom: 5px;
      text-align: center;
    }

    .toast {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: #ffffe0;
      border: 2px outset #fff;
      padding: 5px 10px;
      display: none;
      z-index: 1000;
    }

    .history-list {
      list-style: none;
      padding: 0;
      margin: 10px 0 0 0;
      max-height: 100px;
      overflow-y: auto;
      background: #fff;
      border: 2px inset #fff;
    }

    .progress-container {
      width: 100%;
      background: #fff;
      border: 2px inset #fff;
      height: 20px;
      margin: 5px 0;
    }

    .progress-bar {
      height: 100%;
      background: #000080;
      width: 0%;
    }

    /* خروجی تولید IP به صورت LTR */
    .ltr-output {
      direction: ltr;
      text-align: left;
    }

    /* ریسپانسیو */
    @media screen and (max-width: 800px) {
      #main-page {
        width: 95%;
        margin: 10px auto;
      }

      .login-container {
        width: 95%;
        margin: 10px auto;
      }
    }

    /* دکمه‌های پاک کردن تاریخچه با رنگ قرمز */
    #ipv4-clear-history,
    #ipv6-clear-history {
      background-color: #da0000;
    }
  </style>
</head>

<body>
  <!-- فرم ورود اصلی -->
  <div id="login-page" class="login-container">
    <h2>ورود به سیستم</h2>
    <form id="login-form">
      <input type="text" id="username" placeholder="نام کاربری" required>
      <input type="password" id="password" placeholder="رمز عبور" required>
      <input type="text" id="userId" placeholder="شناسه شما" required>
      <button type="submit">ورود</button>
      <div class="clear"></div>
    </form>
    <div id="login-loading">در حال بارگذاری...</div>
    <div id="login-error" style="color:red; display:none;">اعتبارسنجی ناموفق</div>
  </div>

  <!-- فرم احراز هویت مجدد -->
  <div id="reauth-page" class="login-container" style="display:none;">
    <h2>احراز هویت مجدد</h2>
    <form id="reauth-form">
      <input type="text" id="reauth-userId" placeholder="شناسه شما" required>
      <div id="reauth-captcha-container">
        <span id="reauth-captcha-display" style="font-weight: bold; font-size: 16px; letter-spacing: 2px;"></span>
        <button type="button" id="reauth-refresh-captcha">تغییر کد</button>
      </div>
      <input type="text" id="reauth-captcha-input" placeholder="کد امنیتی" required>
      <button type="submit">تایید</button>
      <div class="clear"></div>
    </form>
    <div id="reauth-error" style="color:red; display:none;">احراز هویت ناموفق</div>
  </div>

  <!-- صفحه اصلی (رابط کاربری کلاسیک) -->
  <div id="main-page" style="display: none;">
    <!-- بخش تولید IPv4 -->
    <div id="ipv4-section" class="section">
      <h2>تولید IPv4</h2>
      <select id="ipv4-location-select">
        <option value="">انتخاب لوکیشن</option>
        <option value="Location1">Location1</option>
        <option value="Location2">Location2</option>
        <option value="Location3">Location3</option>
        <option value="سرور گیمینگ">Gaming server1</option>
      </select>
      <input type="number" id="ipv4-count" placeholder="تعداد" min="1" max="100">
      <textarea id="ipv4-result" rows="4" class="ltr-output" readonly></textarea>
      <div class="loading">در حال پردازش...</div>
      <button id="ipv4-generate">تولید</button>
      <button id="ipv4-copy">کپی</button>
      <button id="ipv4-clear-history">پاک کردن تاریخچه</button>
      <button id="ipv4-download-history">دانلود تاریخچه</button>
      <ul id="ipv4-history" class="history-list"></ul>
    </div>

    <!-- بخش تولید IPv6 -->
    <div id="ipv6-section" class="section">
      <h2>تولید IPv6</h2>
      <select id="ipv6-location-select">
        <option value="">انتخاب لوکیشن</option>
        <option value="Location1">Location1</option>
        <option value="Location2">Location2</option>
        <option value="Location3">Location3</option>
        <option value="سرور گیمینگ">Gaming server1</option>
      </select>
      <input type="number" id="ipv6-count" placeholder="تعداد" min="1" max="100">
      <textarea id="ipv6-result" rows="4" class="ltr-output" readonly></textarea>
      <div class="loading">در حال پردازش...</div>
      <button id="ipv6-generate">تولید</button>
      <button id="ipv6-copy">کپی</button>
      <button id="ipv6-clear-history">پاک کردن تاریخچه</button>
      <button id="ipv6-download-history">دانلود تاریخچه</button>
      <ul id="ipv6-history" class="history-list"></ul>
    </div>

    <!-- بخش تشخیص کشور IP -->
    <div id="ip-country-section" class="section">
      <h2>تشخیص کشور IP</h2>
      <input type="text" id="ip-country-input" placeholder="آدرس IP">
      <div class="loading">در حال پردازش...</div>
      <div class="progress-container">
        <div class="progress-bar"></div>
      </div>
      <button id="ip-country-lookup">جستجو</button>
      <button id="ip-country-copy">کپی</button>
      <textarea id="ip-country-result" rows="4" readonly></textarea>
    </div>
  </div>

  <!-- المان Toast برای نمایش پیام‌ها -->
  <div id="toast" class="toast"></div>

  <script type="module" src="index.js"></script>
</body>

</html>
